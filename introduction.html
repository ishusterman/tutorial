

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2. Introduction &mdash; Introduction to QGIS plugin &#34;Accessibility Calculator&#34;</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=e9518a68" />

  
    <link rel="shortcut icon" href="_static/app.png"/>
      <script src="_static/documentation_options.js?v=4c4d3c97"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Installation" href="installation.html" />
    <link rel="prev" title="1. Workshop Conventions" href="welcome.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Introduction to QGIS plugin "Accessibility Calculator"
          </a>
              <div class="version">
                1.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="welcome.html">1. Workshop Conventions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-is-it-all-about">2.1. What is it all about?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#accessibility-calculator-accounts-for-every-component-of-a-trip">2.2. Accessibility Calculator accounts for every component of a trip</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-algorithms-of-accessibility-calculator">2.3. The Algorithms of Accessibility Calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-data-necessary-for-accessibility-computations">2.4. The data necessary for accessibility computations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-menu-of-accessibility-calculator">2.5. The menu of Accessibility  Calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#constructing-databases">2.6. Constructing Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="#from-accessibility-versus-to-accessibility">2.7. From-accessibility versus To-accessibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="#service-area-of-several-facilities-versus-accessibility-of-all-buildings-in-the-region">2.8. Service area of several facilities versus accessibility of all buildings in the region</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adjustment-of-the-trips-start-or-arrival-time-to-the-transit-timetable">2.9. Adjustment of the trip’s start or arrival time to the transit timetable</a></li>
<li class="toctree-l2"><a class="reference internal" href="#car-speed-for-accessibility-computation">2.10. Car speed for accessibility computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#comparison-of-accessibility-computations-for-different-scenarios">2.11. Comparison of accessibility computations for different scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualization-of-accessibility-computations">2.12. Visualization of accessibility computations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">3. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_pkl.html">4. Data preprocessing for fast routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="raptor_area.html">5. Transit accessibility – Service area</a></li>
<li class="toctree-l1"><a class="reference internal" href="raptor_map.html">6. Transit Accessibility of all locations in the     Region</a></li>
<li class="toctree-l1"><a class="reference internal" href="car_accessibility.html">7. Сar accessibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="relative_ready-made.html">8. Compare accessibility maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">9. Visualization of accessibility map</a></li>
<li class="toctree-l1"><a class="reference internal" href="sample.html">10. Assessing the effect of a new Light Rail Transit line on transport accessibility in the Tel-Aviv Metropolitan Area</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">11. Appendix A: Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">12. Appendix B: License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introduction to QGIS plugin "Accessibility Calculator"</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">2. </span>Introduction</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<h1><span class="section-number">2. </span>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h1>
<section id="what-is-it-all-about">
<h2><span class="section-number">2.1. </span>What is it all about?<a class="headerlink" href="#what-is-it-all-about" title="Link to this heading"></a></h2>
<p>The goal of the Accessibility Calculator plugin is to assess transport accessibility at the resolution of a single building. The assessment is based on a precise estimation of the travel time between the Origin (O), and the Destination (D) buildings of a trip. The OD travel time depends on the transportation mode which can be a Public Transport (PT) or a Private Car. The results of accessibility computations are stored as a CSV table that presents the details of trips and presented visually as an accessibility map.</p>
</section>
<section id="accessibility-calculator-accounts-for-every-component-of-a-trip">
<h2><span class="section-number">2.2. </span>Accessibility Calculator accounts for every component of a trip<a class="headerlink" href="#accessibility-calculator-accounts-for-every-component-of-a-trip" title="Link to this heading"></a></h2>
<p>The PT or car trip consists of several components: A PT user walks from the O-building to the initial stop, waits for a PT vehicle (bus, tram, metro, other), rides to the transfer stop, waits for the next PT vehicle, and, after, possibly, more transfers, alights at the final stop and walks to the D-building. The car traveler takes a walk from the O-building to the parked car, drives to the destination, finds a parking place nearby, and then walks to the D-building.</p>
</section>
<section id="the-algorithms-of-accessibility-calculator">
<h2><span class="section-number">2.3. </span>The Algorithms of Accessibility Calculator<a class="headerlink" href="#the-algorithms-of-accessibility-calculator" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>To estimate transit accessibility we employ the <a class="reference internal" href="glossary.html#term-RAPTOR-Algorithm"><span class="xref std std-term">RAPTOR algorithm</span></a>.</p></li>
<li><p>To estimate accessibility with the private car we employ the <a class="reference internal" href="glossary.html#term-Dijkstra-Algorithm"><span class="xref std std-term">Dijkstra algorithm</span></a>.</p></li>
</ul>
<p>Both algorithms are modified to deal with real-world data on the transit and road networks and to consider accessibility to city buildings and not only network nodes.
<span style="display: block; margin-top: 5px;"></span></p>
</section>
<section id="the-data-necessary-for-accessibility-computations">
<h2><span class="section-number">2.4. </span>The data necessary for accessibility computations<a class="headerlink" href="#the-data-necessary-for-accessibility-computations" title="Link to this heading"></a></h2>
<p>To use the Accessibility Calculator, you need three sets of data, all covering the region of your interest:</p>
<ul class="simple">
<li><p>The layer of roads.</p></li>
<li><p>The layer of buildings that are represented by polygons or points.</p></li>
<li><p>The <a class="reference internal" href="glossary.html#term-GTFS"><span class="xref std std-term">GTFS</span></a> dataset of the PT network and schedule.</p></li>
</ul>
<p>Three datasets are checked and translated into three fast-access databases. The first one contains a topologically cleaned road network, the second is constructed for computing transit accessibility and the third is constructed for computing car accessibility. It is often convenient to use datasets that cover an area that is larger than the region of the current interest.
<span style="display: block; margin-top: 5px;"></span>
In this tutorial, we use GTFS datasets that cover the entire Israel and exploit them for computing accessibility maps for the Tel Aviv Metropolitan Area. The Israeli GTFS datasets are available from <a class="reference external" href="https://gtfs.pro/">https://gtfs.pro/</a>, and in our examples, we use GTFS datasets for June 2018 and June 2024. The OSM layers of roads and buildings for Israel are available from <a class="reference external" href="https://www.openstreetmap.org/">https://www.openstreetmap.org/</a>. In this tutorial, we use the <code class="docutils literal notranslate"><span class="pre">gis_osm_buildings_a_free</span></code> layer of buildings (as polygons) and the <code class="docutils literal notranslate"><span class="pre">gis_osm_roads_free</span> <span class="pre">layer</span></code> layer of roads.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The layer of roads that you download from the OSM site often contains significant topological errors and must be topologically cleaned before using for computations. This cleaning is a part of the construction of the road database, see section 4.2.</p>
</div>
</section>
<section id="the-menu-of-accessibility-calculator">
<h2><span class="section-number">2.5. </span>The menu of Accessibility  Calculator<a class="headerlink" href="#the-menu-of-accessibility-calculator" title="Link to this heading"></a></h2>
<p>Figure 1 presents the menu of the Accessibility Calculator.</p>
<p><em>The service area is employed for accessing accessibility of the specific set of locations.</em>
<span style="display: block; margin-top: 5px;"></span>
<em>The region accessibility is employed for assessing accessibility of all locations in the area.</em></p>
<p>In this introductory section, we briefly present the abilities of the Accessibility Calculator. Each of these abilities is then presented in detail in the consequent sections.</p>
 <div style="display: flex; justify-content: center; align-items: center; height: 100%;">
    <img src="_images/mainwindow.png" style="width: 50%; border: 3px solid white;margin-bottom: 10px" />
</div>
<p>Figure 1. The menu of the Accessibility Calculator</p></section>
<section id="constructing-databases">
<h2><span class="section-number">2.6. </span>Constructing Databases<a class="headerlink" href="#constructing-databases" title="Link to this heading"></a></h2>
<p>To accelerate data access for accessibility computations and fix the data inconsistencies, all three datasets necessary for computations are translated into the internal databases. You can build different databases for different versions of the infrastructure or transit network development, assess accessibility for each of them, and compare the results. The databases are usually constructed for large areas, or even the entire country. We recommend working with the datasets that represent areas containing 0.5-1M buildings.</p>
</section>
<section id="from-accessibility-versus-to-accessibility">
<h2><span class="section-number">2.7. </span>From-accessibility versus To-accessibility<a class="headerlink" href="#from-accessibility-versus-to-accessibility" title="Link to this heading"></a></h2>
<p>From-accessibility is based on the travel time from each of the selected buildings to all other locations in the city (Figure 2 left). The typical application of from-accessibility is the assessment of the residents’ travel time to the locations of their possible employment.
<span style="display: block; margin-top: 5px;"></span>
To-accessibility is based on the travel time to each of the selected buildings from all other locations in the city (Figure 2 right). The typical application of to-accessibility is the assessment of the residents’ travel time to shops and attractions in the city center.</p>
<div style="display: flex; justify-content: center; align-items: center; height: 100%;">
    <img src="_images/forward-backward.png" style="width: 70%; border: 3px solid white;margin-bottom: 20px" />
</div>
<p>Figure 2. From-accessibility (left) versus To-accessibility (right)</p><p><span style="display: block; margin-top: 5px;"></span></p>
</section>
<section id="service-area-of-several-facilities-versus-accessibility-of-all-buildings-in-the-region">
<h2><span class="section-number">2.8. </span>Service area of several facilities versus accessibility of all buildings in the region<a class="headerlink" href="#service-area-of-several-facilities-versus-accessibility-of-all-buildings-in-the-region" title="Link to this heading"></a></h2>
<p>From- and To-accessibility computations can be performed to assess the service area of several facilities located in the buildings or aggregate measures of accessibility for all buildings in the region of interest – <em>region accessibility</em>. In both cases, origins and destinations can be all or just selected buildings. In the latter case, the selected buildings will be stored as a layer as a part of the results.
<span style="display: block; margin-top: 5px;"></span>
<em>The service area</em> consists of buildings that can be served by at least one of the facilities.</p>
<ul class="simple">
<li><p>The “From” service area of the set of facilities includes all buildings that can be reached in maximum travel time or faster, from at least one of the facilities in this set. If the building can be reached from several facilities, then the trip with the minimal travel time is considered.</p></li>
<li><p>The “To” service area of the set of facilities, includes all buildings from which at least one of the facilities can be reached in maximum travel time or faster. If several facilities can be reached, then the trip with minimal travel time is considered.</p></li>
</ul>
<p>The details of each leg of the fastest trips are stored as attributes of the served building and the thematic map presents the total travel time from the facilities to the served building or from the served building to the facility. Importantly, the service area of <em>every</em> facility is also stored. The user can exploit this file for computing other measures of accessibility, like the area from where the residents can reach more than half of the facilities in the center of the city in a maximum travel time.
<span style="display: block; margin-top: 5px;"></span>
<em>The region accessibility</em> represents aggregate measures of accessibility for each building in the region.</p>
<ul class="simple">
<li><p>The default aggregate measure of the from-accessibility for the region’s building is the number of other buildings accessible from it. Other measures, like the number of shops, or jobs, accessible from the building can be calculated if the information on jobs or use at a building resolution is available.</p></li>
<li><p>The default aggregate measure of the to-accessibility for the region’s building is the number of buildings from which it is accessible. Other measures, like the total population that can reach the building, can be calculated if the information on the population at a building resolution is available.</p></li>
</ul>
<p>The accessibility of a region is computed at a time resolution that is defined by the user. All aggregate measures are stored as attributes of the region’s buildings, for each time interval.</p>
</section>
<section id="adjustment-of-the-trips-start-or-arrival-time-to-the-transit-timetable">
<h2><span class="section-number">2.9. </span>Adjustment of the trip’s start or arrival time to the transit timetable<a class="headerlink" href="#adjustment-of-the-trips-start-or-arrival-time-to-the-transit-timetable" title="Link to this heading"></a></h2>
<p>Modern transit users are aware of the time the bus or train arrives at the stop they plan to start from, or to the final stops of their trip, and plan their trips accordingly. To assess the accessibility for these informed users we modify the <a class="reference internal" href="glossary.html#term-RAPTOR-Algorithm"><span class="xref std std-term">RAPTOR algorithm</span></a> to account for the schedule-based trip’s start or finish. Schedule-defined accessibility can be chosen for each of the From/To and Location/Region regimes.</p>
<p><span style="display: block; margin-top: 5px;"></span></p>
</section>
<section id="car-speed-for-accessibility-computation">
<span id="car-speed-by-link-type"></span><h2><span class="section-number">2.10. </span>Car speed for accessibility computation<a class="headerlink" href="#car-speed-for-accessibility-computation" title="Link to this heading"></a></h2>
<p>To compute car accessibility, one must know traffic speed along the route. In the current version of the plugin, the traffic speed is defined by the type of road - a highway, major city street, neighborhood secondary street, etc., and the hour of the day. The free flow traffic speeds V<sub>p</sub>, by the road link types p, is given in the <code class="docutils literal notranslate"><span class="pre">car_speed_by_link_type.csv</span></code> table (Figure 3, left).
The effect of the hour of the day is reflected by the Congestion Delay Index (CDI) - a ratio of the average, for the hour of a day, speed to the free flow speed, and stored in the <code class="docutils literal notranslate"><span class="pre">cdi_index.csv</span></code> table (Figure 3, right). Both tables are stored in the system folder and can be edited by the user.</p>
<p>The speed V<sub>p</sub>(t) on the link of a type p at the hour t is calculated as V<sub>p</sub>(t)  = V<sub>p</sub>*CDI<sub>t</sub>.</p>
<style>
    .custom-table {
        border-collapse: collapse;
        width: 100%;
    }

    .custom-table th, .custom-table td {
        border: 1px solid #d3d3d3;
        padding: 8px;
        text-align: center;
        vertical-align: middle;
    }

    .custom-table th {
        background-color: white;
        font-weight: normal;
    }

    .custom-table tr:nth-child(even) {
        background-color: #f0f8ff;
    }

    .custom-table tr:nth-child(odd) {
        background-color: white;
    }
</style>

<div style="display: flex; justify-content: space-between;margin-bottom: 10px">

    <div style="margin-right: 10px;">

        <table class="custom-table">
            <tr>
                <th style="width: 150px;">link type</th>
                <th style="width: 150px;">speed (km/h)</th>
            </tr>
            <tr>
                <td>busway</td>
                <td>18</td>
            </tr>
            <tr>
                <td>cycleway</td>
                <td>15</td>
            </tr>
            <tr>
                <td>footway</td>
                <td>3</td>
            </tr>
            <tr>
                <td>motorway_link</td>
                <td>40</td>
            </tr>
            <tr>
                <td>...</td>
                <td>...</td>
            </tr>
        </table>
    </div>


    <div>

        <table class="custom-table">
            <tr>
                <th style="width: 150px;">hour</th>
                <th style="width: 100px;">cdi</th>
            </tr>
            <tr>
                <td>0</td>
                <td>1.0</td>
            </tr>
            <tr>
                <td>...</td>
                <td>...</td>
            </tr>
            <tr>
                <td>5</td>
                <td>0.9</td>
            </tr>
            <tr>
                <td>6</td>
                <td>0.65</td>
            </tr>
            <tr>
                <td>...</td>
                <td>...</td>
            </tr>
        </table>
    </div>
</div>
<p>Figure 3. Free flow speeds by the link types (left) and the CDI index, by hours of the day (right)</p></section>
<section id="comparison-of-accessibility-computations-for-different-scenarios">
<h2><span class="section-number">2.11. </span>Comparison of accessibility computations for different scenarios<a class="headerlink" href="#comparison-of-accessibility-computations-for-different-scenarios" title="Link to this heading"></a></h2>
<p>Typically, the accessibility is computed for different scenarios of urban transportation development, and then the outputs for these scenarios are compared.
<span style="display: block; margin-top: 5px;"></span>
Let the scenarios be S<sub>1</sub> and S<sub>2</sub> and accessibility for each of them is already computed. The Accessibility Calculator includes three options for comparison scenarios’ outputs:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Relative accessibility:</dt><dd><p>The ratio R<sub>1,2</sub>= S<sub>1</sub>/S<sub>2</sub> of the outputs of S<sub>1</sub> and S<sub>2</sub>, by buildings.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Accessibility difference:</dt><dd><p>The difference D<sub>1,2</sub>= S<sub>1</sub>– S<sub>2</sub> of the outputs of S<sub>1</sub> and S<sub>2</sub>, by buildings.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Relative accessibility difference:</dt><dd><p>The relative difference RD<sub>1,2</sub>= (S<sub>1</sub>– S<sub>2</sub>)/S<sub>2</sub> of the outputs of S<sub>1</sub> and S<sub>2</sub>, by buildings.</p>
</dd>
</dl>
</li>
</ul>
<p>Note that scenarios S<sub>1</sub> and S<sub>2</sub> must be comparable, i.e.,  both must be for the same single location or, in the case of region accessibility, for the overlapping regions. The Accessibility Calculator tests the comparability of the scenarios, and either reports incomparability or performs the comparison.</p>
</section>
<section id="visualization-of-accessibility-computations">
<h2><span class="section-number">2.12. </span>Visualization of accessibility computations<a class="headerlink" href="#visualization-of-accessibility-computations" title="Link to this heading"></a></h2>
<p>The Accessibility Calculator results are always presented as thematic maps. These maps are based on one of the coverages that are supplied together with the plugin (Figure 4):</p>
<ul class="simple">
<li><p><a class="reference internal" href="glossary.html#term-Voronoi-diagram"><span class="xref std std-term">Voronoi polygons</span></a> that are constructed based on the buildings’ foundations,</p></li>
<li><p><a class="reference internal" href="glossary.html#term-H3"><span class="xref std std-term">H3 hexagons</span></a> of the h11, h10, h9, and h8 scales.</p></li>
</ul>
<div style="display: flex; justify-content: space-between;">
    <img src="_images/sample/visual1.png" style="width: 32%; border: 0px solid black;margin-bottom: 10px" />
    <img src="_images/sample/visual2.png" style="width: 32%;
    border: 0px solid black;margin-bottom: 20px" />
    <img src="_images/sample/visual3.png" style="width: 32%; border: 0px solid black;margin-bottom: 10px" />
</div>
<p>Figure 4: Left to right – The 45-min transit service maps from the Gesher theater in the center of the Yafo area, Tel Aviv, presented with the Voronoi polygons, h3-10, and h3-9 hexagons</p><p><span style="display: block; margin-top: 5px;"></span></p>
<p>Accessibility Calculator visualization options are considered in <a class="reference internal" href="visualization.html"><span class="doc">section 9</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="welcome.html" class="btn btn-neutral float-left" title="1. Workshop Conventions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="installation.html" class="btn btn-neutral float-right" title="3. Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Geosimlab | TLV university.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>